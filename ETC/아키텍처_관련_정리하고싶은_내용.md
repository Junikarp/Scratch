# 아키텍처 큰 틀 정리

아키텍처 관련 공부를 하면서 infrastructure, domain, service, controller 단으로 계층을 나누어 프로젝트를 진행하며 대충 정리해보고자 한다.

## infrastructure
프로젝트를 진행하면서 domain 과 infrastructure 계층을 나누는 아키텍처를 구성하였다. 이는 영속성 객체와 도메인 엔티티를 정확하게 분리하고자 하는 목적이다.
infrastructure 계층에서는 영속성 객체를 담당하며 도메인 엔티티와 DB 엔티티를 연결해주는 역할을 수행한다.

## domain
핵심 로직을 담고 있다. 서비스 로직과 처음에 혼동하기 쉬웠는데 개인적으로 정리를 해보고자 한다. 우선 도메인 엔티티의 값을 변경, 수정, 비교 등을 수행하는 로직을 도메인 로직이 담는다.
무슨 말이냐 하면 예를 들어 퀴즈를 제공하는 사이트가 있다고 가정해보자. 해당 서비스에서 퀴즈의 정답 일치 여부를 확인하거나, 문제 해설을 수정하는 등의 행위는
도메인 로직에 해당할 것이다. 왜냐하면 도메인 엔티티가 가지고 있는 속성을 직접적으로 다루는 행위이기 때문이다.

## service
반면 서비스 로직을 살펴보자. 서비스 로직은 핵심 비즈니스 로직보다는 좀 더 보편화된 로직을 담는다. 예를 들면 문제의 해설을 조회하거나, 랜덤으로 문제를 제공하는 등의 기능은 단순히 
값을 조회하거나 속성을 변경시키지 않는 로직이기 때문이다. 이러한 로직은 서비스 계층에서 처리하는 것이 일반적인 것 같다.

## controller 
컨트롤러 계층은 외부 클라이언트와 서버를 연결하는 역할을 한다. 외부에서 어떤 요청이 들어오면 rest api 에 맞춰 서비스 영역과 도메인 영역에 데이터를 요청하고 이를 사용자에게 전달하는 역할을 수행한다.

